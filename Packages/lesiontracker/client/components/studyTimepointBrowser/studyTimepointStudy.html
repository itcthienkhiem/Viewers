<template name="studyTimepointStudy">
    {{#let isSidebar=(not (isDefined viewportIndex))}}
        <div class="studyTimepointStudy {{#if isSidebar}}studySidebarTimepoint{{else}}studyQuickSwitchTimepoint{{/if}} {{#if this.active}}active{{/if}}">
            {{>loadingText}}
            <div class="studyModality">
                <div class="studyModalityBox">
                    {{#if this.study.modalities}}
                        {{this.study.modalities}}
                    {{else}}
                        UN
                    {{/if}}
                </div>
                <div class="studyModalityText">
                    <div class="studyModalityDate">{{formatDA this.study.studyDate 'D-MMM-YYYY'}}</div>
                    <div class="studyModalityDescription">{{this.study.studyDescription}}</div>
                </div>
            </div>
            {{#if isSidebar}}
                <div class="studyTimepointThumbnails">
                    {{#each thumbnail in (studyThumbnails this.study)}}
                        {{>thumbnailEntry thumbnail=thumbnail viewportIndex=viewportIndex}}
                    {{/each}}
                </div>
            {{/if}}
        </div>
    {{/let}}
</template>
